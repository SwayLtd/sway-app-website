let slidesCount = 0, currentIndex = 0, wheelDeltaAcc = 0; function handleScroll() { let e = document.getElementById("horizontal-section"); if (e) { if (window.innerWidth >= 1025) { let t = (slidesCount - 1) * window.innerHeight, n = window.scrollY, l = (slidesCount - 1) * .5 * window.innerWidth; e.style.transform = `translateX(${-(Math.max(0, Math.min(n, t)) / t) * l}px)` } else e.style.transform = "translateX(0)" } } function handleWheel(e) { !(window.innerWidth < 1025) && (e.preventDefault(), (wheelDeltaAcc += e.deltaY) > 100 && currentIndex < slidesCount - 1 ? (currentIndex++, wheelDeltaAcc = 0) : wheelDeltaAcc < -100 && currentIndex > 0 && (currentIndex--, wheelDeltaAcc = 0), window.scrollTo({ top: currentIndex * window.innerHeight, behavior: "smooth" })) } function handleResize() { if (window.innerWidth < 1025) { currentIndex = 0, wheelDeltaAcc = 0, window.scrollTo({ top: 0, behavior: "instant" }); let e = document.getElementById("horizontal-section"); e && (e.style.transform = "translateX(0)") } } document.addEventListener("DOMContentLoaded", () => { slidesCount = document.querySelectorAll(".slide").length, document.body.style.height = `${100 * slidesCount}vh`, document.documentElement.style.setProperty("--slides-count", slidesCount); let e = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent); if (e) { let t = document.getElementById("horizontal-section"); t && (t.style.transform = "none") } else window.addEventListener("scroll", handleScroll), window.addEventListener("wheel", handleWheel, { passive: !1 }), window.addEventListener("resize", handleResize), handleScroll(); let n = document.querySelector(".get-app-btn"), l = "https://apps.apple.com/us/app/sway-find-raves-and-festivals/id6744655264", s = "https://play.google.com/store/apps/details?id=app.sway.main", i = l; n && n.addEventListener("click", () => { let e = i, t = navigator.userAgent || ""; if (navigator.userAgentData && navigator.userAgentData.platform) { let n = navigator.userAgentData.platform; /Android/i.test(n) ? e = s : /iPhone|iPad|iPod|iOS/i.test(n) && (e = l) } else /android/i.test(t) ? e = s : /iPad|iPhone|iPod/.test(t) && !window.MSStream && (e = l); window.open(e, "_blank") }) });